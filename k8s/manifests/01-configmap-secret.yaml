apiVersion: v1
kind: ConfigMap
metadata:
  name: yellowbooks-config
  namespace: yellowbooks
data:
  NODE_ENV: production
  # Server-side fetches inside the cluster must use an internal DNS name.
  # Note: NEXT_PUBLIC_* values are baked into the Next.js build; use INTERNAL_BACKEND_URL at runtime.
  INTERNAL_BACKEND_URL: "http://api:3001"
  NEXT_PUBLIC_BACKEND_URL: "http://api.yellowbooks.example.com"
  DATABASE_URL: "postgresql://yellbook:yellbook@postgres.yellowbooks.svc.cluster.local:5432/yellbook"
  NEXTAUTH_URL: "http://yellowbooks.example.com"
  REDIS_HOST: "redis.yellowbooks.svc.cluster.local"
  REDIS_PORT: "6379"

---
apiVersion: v1
kind: Secret
metadata:
  name: yellowbooks-secrets
  namespace: yellowbooks
type: Opaque
stringData:
  DATABASE_PASSWORD: "yellbook"
  POSTGRES_PASSWORD: "yellbook"
  JWT_SECRET: "your-jwt-secret-change-in-production"
  NEXTAUTH_SECRET: "change-me"
  GITHUB_ID: "change-me"
  GITHUB_SECRET: "change-me"
  # For Lab 9 AI search (Gemini embeddings). Put your real key here.
  # NOTE: The API code currently reads the Gemini key from OPENAI_API_KEY for historical reasons.
  # This repo also supports GEMINI_API_KEY (used by the seed script) for clarity.
  OPENAI_API_KEY: "change-me"
  GEMINI_API_KEY: "change-me"
